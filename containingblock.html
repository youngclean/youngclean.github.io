<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
</head>

<body>
    <section class="main-content">
        <p>官方定义：<br />
            一个元素盒子的位置和大小有时相对于某个矩形来计算的，此矩形称为此元素的包含块。简写为：C.B. 有以下几种情况： </p>
        <ul>
            <li>根元素所在的包含块是一个长方形，称为初始的包含块。</li>
            <li>假如元素的position设为‘relative’或‘static’，包含块是由最近的父容器块的内容区边缘形成的。</li>
            <li>假如元素的position设为‘fixed’，包含块是由所在的viewpoint或page area决定。</li>
            <li>假如元素的position设为‘absolute’，包含块是由最近带有‘position’属性的祖先决定。</li>
        </ul>
        <p>
            祖先元素是行内元素，包含块是第一个和最后一个内联盒子所包围的填充盒子，在CSS2.1，行内元素跨越多行，那么包含块是未定义的，否则，包含块是由祖先的补白形成。
        </p>
        <p>
            <strong>假如没有那样的祖先，包含块就是初始 C.B.</strong>
        </p>
        <p>代码示例：</p>
        <pre><code>&lt;!DOCTYPE HTML&quot;&gt;
    &lt;html&gt;
    &lt;body id=&quot;body&quot;&gt;
        &lt;div id=&quot;div1&quot;&gt;
            &lt;p id=&quot;p1&quot;&gt;This is text in the first paragraph...&lt;/P&gt;
            &lt;p id=&quot;p2&quot;&gt;This is text &lt;em id=&quot;em1&quot;&gt; in the 
            &lt;strong id=&quot;strong1&quot;&gt;second&lt;/strong&gt; paragraph.&lt;/em&gt;&lt;/P&gt;
       &lt;/div&gt;
    &lt;/body&gt;
    &lt;/html&gt;
</code></pre>
        <table>
            <thead>
                <th>元素</th>
                <th>包含块</th>
            </thead>
            <tr>
                <td>html</td>
                <td>初始 C.B.</td>
            </tr>
            <tr>
                <td>body</td>
                <td>html</td>
            </tr>
            <tr>
                <td>div1</td>
                <td>body</td>
            </tr>
            <tr>
                <td>p1</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>p2</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>em1</td>
                <td>p2</td>
            </tr>
            <tr>
                <td>strong1</td>
                <td>p2</td>
            </tr>
        </table>
        <p>假如设置div1:</p>
        <pre><code>#div1 { position: absolute; left: 50px; top: 50px }</code></pre>
        <p>div1的包含块将不是body，而变成html.</p>
        <p>假如也设置em1:</p>
        <pre><code>#div1 { position: absolute; left: 50px; top: 50px }
#em1  { position: absolute; left: 100px; top: 100px }
        </code></pre>
        <p>上述包含块发生什么变化？</p>
        <table>
            <thead>
                <th>元素</th>
                <th>包含块</th>
            </thead>
            <tr>
                <td>body</td>
                <td>html</td>
            </tr>
            <tr>
                <td>
                    <strong>div1</strong>
                </td>
                <td>
                    <strong>初始 C.B.</strong>
                </td>
            </tr>
            <tr>
                <td>p1</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>p2</td>
                <td>div1</td>
            </tr>
            <tr>
                <td>
                    <strong>em1</strong>
                </td>
                <td>
                    <strong>div1</strong>
                </td>
            </tr>
            <tr>
                <td>strong1</td>
                <td>p2</td>
            </tr>
        </table>
        <hr />
        <p>参考：</p>
        <ul>
          <li><a href="http://www.ddcat.net/blog/?p=1336">CSS核心：包含块（Containing Block）</a></li> 
          <li><a href="http://www.zhihu.com/question/19926700">CSS 中，为什么绝对定位（absolute）的父级元素必须是相对定位（relative）？</a></li> 
          <li><a href="http://www.w3.org/TR/2011/REC-CSS2-20110607/visudet.html#containing-block-details">W3c传送门</a></li>  
        </ul>
    </section>
</body>

</html>